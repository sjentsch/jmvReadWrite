<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Write files to be used with the statistical spreadsheet 'jamovi' (https://www.jamovi.org) — write_omv • jmvReadWrite</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write files to be used with the statistical spreadsheet 'jamovi' (https://www.jamovi.org) — write_omv"><meta name="description" content="Write files to be used with the statistical spreadsheet 'jamovi'
(https://www.jamovi.org)"><meta property="og:description" content="Write files to be used with the statistical spreadsheet 'jamovi'
(https://www.jamovi.org)"><meta property="og:image" content="https://sjentsch.github.io/jmvReadWrite/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">jmvReadWrite</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.12</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/jmvReadWrite.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/sjentsch/jmvReadWrite/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Write files to be used with the statistical spreadsheet 'jamovi' (<a href="https://www.jamovi.org" class="external-link">https://www.jamovi.org</a>)</h1>
      <small class="dont-index">Source: <a href="https://github.com/sjentsch/jmvReadWrite/blob/main/R/write_omv.R" class="external-link"><code>R/write_omv.R</code></a></small>
      <div class="d-none name"><code>write_omv.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Write files to be used with the statistical spreadsheet 'jamovi'
(<a href="https://www.jamovi.org" class="external-link">https://www.jamovi.org</a>)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write_omv</span><span class="op">(</span></span>
<span>  dtaFrm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fleOut <span class="op">=</span> <span class="st">""</span>,</span>
<span>  wrtPtB <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  frcWrt <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  retDbg <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dtafrm">dtaFrm<a class="anchor" aria-label="anchor" href="#arg-dtafrm"></a></dt>
<dd><p>Data frame to be exported (default: NULL)</p></dd>


<dt id="arg-fleout">fleOut<a class="anchor" aria-label="anchor" href="#arg-fleout"></a></dt>
<dd><p>Name / position of the output file to be generated
("FILENAME.omv"; default: "")</p></dd>


<dt id="arg-wrtptb">wrtPtB<a class="anchor" aria-label="anchor" href="#arg-wrtptb"></a></dt>
<dd><p>Whether to write protocol buffers (see Details; default: FALSE)</p></dd>


<dt id="arg-frcwrt">frcWrt<a class="anchor" aria-label="anchor" href="#arg-frcwrt"></a></dt>
<dd><p>Whether to overwrite existing files with the same name (see Details; default: FALSE)</p></dd>


<dt id="arg-retdbg">retDbg<a class="anchor" aria-label="anchor" href="#arg-retdbg"></a></dt>
<dd><p>Whether to return a list with debugging information (see
Value; default: FALSE)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list (if retDbg == TRUE), containing the meta data (mtaDta,
metadata.json in the OMV-file), the extended data (xtdDta,
xdata.json in the OMV-file) and the original data frame (dtaFrm)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>

<ul><li><p>jamovi has a specific measurement level / type "ID" (in addition to the
"standard" ones "Nominal", "Ordinal", and "Continuous"). "ID" is used for
columns that contain some form of ID (e.g., a participant code). In order
to set a variable of your data frame to "ID", you have to set the
attribute <code>jmv-id</code> (e.g., <code>attr(dtaFrm$column, "jmv-id") = TRUE</code>).</p></li>
<li><p>CAUTION: Setting wrtPtB to TRUE currently overwrites analyses that already
exist in a data file. It is meant to be used for <code>describe_omv</code> only. If
you set wrtPtB to TRUE, ensure to use an output file name that isn't would
not overwrite any existing file. Protocol buffers are used to exchange
data between the different parts of jamovi (the server and the client) and
also the format in which analyses are stored in the jamovi data files.</p></li>
<li><p><code>write_omv</code> checks whether the output file already exists and throws an
error if this is the case. frcWrt permits you to overwrite the existing
file.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># use the data set "ToothGrowth" and, if it exists, write it as</span></span></span>
<span class="r-in"><span><span class="co"># jamovi-file using write_omv()</span></span></span>
<span class="r-in"><span><span class="fu">jmvReadWrite</span><span class="fu">::</span><span class="va"><a href="ToothGrowth.html">ToothGrowth</a></span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    ID supp supp2 dose dose2  len    logLen</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   1   VC     1  0.5   0.5  4.2 0.6232493</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2   VC     1  0.5   0.5 11.5 1.0606978</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   3   VC     1  0.5   0.5  7.3 0.8633229</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   4   VC     1  0.5   0.5  5.8 0.7634280</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   5   VC     1  0.5   0.5  6.4 0.8061800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   6   VC     1  0.5   0.5 10.0 1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   7   VC     1  0.5   0.5 11.2 1.0492180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   8   VC     1  0.5   0.5 11.2 1.0492180</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9   9   VC     1  0.5   0.5  5.2 0.7160033</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 10   VC     1  0.5   0.5  7.0 0.8450980</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 11   VC     1  1.0   1.0 16.5 1.2174839</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 12   VC     1  1.0   1.0 16.5 1.2174839</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 13   VC     1  1.0   1.0 15.2 1.1818436</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 14   VC     1  1.0   1.0 17.3 1.2380461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 15   VC     1  1.0   1.0 22.5 1.3521825</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 16   VC     1  1.0   1.0 17.3 1.2380461</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 17   VC     1  1.0   1.0 13.6 1.1335389</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 18   VC     1  1.0   1.0 14.5 1.1613680</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 19   VC     1  1.0   1.0 18.8 1.2741578</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 20   VC     1  1.0   1.0 15.5 1.1903317</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 21   VC     1  2.0   2.0 23.6 1.3729120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 22   VC     1  2.0   2.0 18.5 1.2671717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 23   VC     1  2.0   2.0 33.9 1.5301997</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 24   VC     1  2.0   2.0 25.5 1.4065402</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 25   VC     1  2.0   2.0 26.4 1.4216039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 26   VC     1  2.0   2.0 32.5 1.5118834</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 27   VC     1  2.0   2.0 26.7 1.4265113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 28   VC     1  2.0   2.0 21.5 1.3324385</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 29   VC     1  2.0   2.0 23.3 1.3673559</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 30   VC     1  2.0   2.0 29.5 1.4698220</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31 31   OJ     2  0.5   0.5 15.2 1.1818436</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32 32   OJ     2  0.5   0.5 21.5 1.3324385</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33 33   OJ     2  0.5   0.5 17.6 1.2455127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34 34   OJ     2  0.5   0.5  9.7 0.9867717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35 35   OJ     2  0.5   0.5 14.5 1.1613680</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36 36   OJ     2  0.5   0.5 10.0 1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37 37   OJ     2  0.5   0.5  8.2 0.9138139</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38 38   OJ     2  0.5   0.5  9.4 0.9731279</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39 39   OJ     2  0.5   0.5 16.5 1.2174839</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40 40   OJ     2  0.5   0.5  9.7 0.9867717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41 41   OJ     2  1.0   1.0 19.7 1.2944662</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42 42   OJ     2  1.0   1.0 23.3 1.3673559</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43 43   OJ     2  1.0   1.0 23.6 1.3729120</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44 44   OJ     2  1.0   1.0 26.4 1.4216039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45 45   OJ     2  1.0   1.0 20.0 1.3010300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46 46   OJ     2  1.0   1.0 25.2 1.4014005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47 47   OJ     2  1.0   1.0 25.8 1.4116197</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 48 48   OJ     2  1.0   1.0 21.2 1.3263359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49 49   OJ     2  1.0   1.0 14.5 1.1613680</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50 50   OJ     2  1.0   1.0 27.3 1.4361626</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51 51   OJ     2  2.0   2.0 25.5 1.4065402</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52 52   OJ     2  2.0   2.0 26.4 1.4216039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53 53   OJ     2  2.0   2.0 22.4 1.3502480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 54 54   OJ     2  2.0   2.0 24.5 1.3891661</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 55 55   OJ     2  2.0   2.0 24.8 1.3944517</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 56 56   OJ     2  2.0   2.0 30.9 1.4899585</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 57 57   OJ     2  2.0   2.0 26.4 1.4216039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 58 58   OJ     2  2.0   2.0 27.3 1.4361626</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 59 59   OJ     2  2.0   2.0 29.4 1.4683473</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 60 60   OJ     2  2.0   2.0 23.0 1.3617278</span>
<span class="r-in"><span><span class="va">nmeOut</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span>fileext <span class="op">=</span> <span class="st">".omv"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># typically, one would use a "real" file name instead of tempfile(),</span></span></span>
<span class="r-in"><span><span class="co"># e.g., "Data1.omv"</span></span></span>
<span class="r-in"><span><span class="va">dtaDbg</span> <span class="op">=</span> <span class="fu">jmvReadWrite</span><span class="fu">::</span><span class="fu">write_omv</span><span class="op">(</span>dtaFrm <span class="op">=</span> <span class="va">ToothGrowth</span>, fleOut <span class="op">=</span> <span class="va">nmeOut</span>, retDbg <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dtaDbg</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "mtaDta" "xtdDta" "dtaFrm"</span>
<span class="r-in"><span><span class="co"># the print-function is only used to force devtools::run_examples()</span></span></span>
<span class="r-in"><span><span class="co"># to show output</span></span></span>
<span class="r-in"><span><span class="co"># -&gt; "mtaDta" "xtdDta" "dtaFrm"</span></span></span>
<span class="r-in"><span><span class="co"># returns a list with the metadata (mtaDta, e.g., column and data type),</span></span></span>
<span class="r-in"><span><span class="co"># the extended data (xtdDta, e.g., variable lables), and the data frame</span></span></span>
<span class="r-in"><span><span class="co"># (dtaFrm) the purpose of these variables is merely for checking (under-</span></span></span>
<span class="r-in"><span><span class="co"># standing the file format) and debugging</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># check whether the file was written to the disk, get the file informa-</span></span></span>
<span class="r-in"><span><span class="co"># tion (size, etc.) and delete the file afterwards</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">dirname</a></span><span class="op">(</span><span class="va">nmeOut</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">basename</a></span><span class="op">(</span><span class="va">nmeOut</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "file251b4ef7c59e.omv"</span>
<span class="r-in"><span><span class="co"># -&gt; "file[...].omv" ([...] is a combination of random numbers / characters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.info.html" class="external-link">file.info</a></span><span class="op">(</span><span class="va">nmeOut</span><span class="op">)</span><span class="op">$</span><span class="va">size</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2617</span>
<span class="r-in"><span><span class="co"># -&gt; approx. 2600 (size may differ on different OSes)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">nmeOut</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Jentschke.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

